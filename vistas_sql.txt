AQUÍ SE PUBLICARÁ LAS CREACIONES DE VISTAS Y/O PROCEDIMIENTOS DE LA BASE DE DATOS

create view v_usuario as
select u.codi_usu,
u.codi_rol,
u.reg_usu,
r.nomb_rol,
u.nomb_usu,
u.pass_usu,
u.acce_usu,
u.ses_usu,
u.esta_usu
from usuario u, rol r
where u.codi_rol = r.codi_rol 
order by u.codi_usu asc;

CREATE VIEW v_producto AS
SELECT p.codi_prod,
p.codi_tpro,
tp.nomb_tipo,
p.nomb_prod,
p.prec_prod,
p.fein_prod,
p.fesa_prod,
p.stoc_prod,
p.obsv_prod,
p.esta_prod
FROM producto p, tipo_producto tp 
ORDER BY p.codi_prod ASC;

create view v_caja_dia as
select cd.codi_cad,
cd.codi_caj,
c.num_caj,
cd.fein_cad,
cd.usin_cad,
ui.nomb_usu AS usu_ini,
cd.sain_cad,
cd.fefi_cad,
cd.usfi_cad,
uf.nomb_usu AS usu_fin,
cd.safi_cad,
cd.obsv_cad,
cd.esta_cad
from caja c, caja_dia cd, usuario ui, usuario uf
where cd.codi_caj = c.codi_caj
and cd.usin_cad = ui.codi_usu
and cd.usfi_cad = uf.codi_usu
order by cd.fein_cad desc;

create view v_caja_chica_dia as
select cc.codi_ccd,
cc.codi_cac,
cc.fein_ccd,
cc.usin_ccd,
ui.nomb_usu AS usu_ini,
cc.sain_ccd,
cc.fefi_ccd,
cc.usfi_ccd,
uf.nomb_usu AS usu_fin,
cc.safi_ccd,
cc.dife_ccd,
cc.obsv_ccd,
cc.esta_ccd
from caja_chica_dia cc, usuario ui, usuario uf
where cc.usin_ccd = ui.codi_usu
and cc.usfi_ccd = uf.codi_usu
order by cc.fein_ccd desc;